---
import Layout from '../components/Layout.astro';
import BlogCard from '../components/BlogCard.astro';

const posts = await Astro.glob('./blog/*.mdx');
const latest = posts
  .sort((a,b)=> new Date(b.frontmatter.date).getTime()-new Date(a.frontmatter.date).getTime())
  .slice(0,6);
---
<Layout title="Hirotomo Blog | English × Japanese Culture × Dev" description="英語で日本文化を伝えるブログ。英語表現・文化ガイド・実践例を分かりやすく。">
  <section class="mb-8">
    <h1 class="text-3xl sm:text-4xl font-bold tracking-tight">English × Japanese Culture</h1>
    <p class="mt-3 text-[hsl(var(--muted))] max-w-2xl">
      英語で日本文化を伝えるための実用記事を毎週更新。例文・フレーズ・文化背景まで。
    </p>
  </section>

  <section>
    <h2 class="text-xl font-semibold mb-3">最新記事</h2>
    <div class="grid gap-4">
      {latest.map(p => (
        <BlogCard
          href={p.url}
          title={p.frontmatter.title}
          description={p.frontmatter.description}
          date={p.frontmatter.date}
          image={p.frontmatter.image}
        />
      ))}
    </div>
  </section>
</Layout>
